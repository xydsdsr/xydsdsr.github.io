---
layout: post
title: 设计模式前言
date: 2020-07-14
Author: Byakuya
tags: [sample, document]
comments: true
---

# 为什么要学习设计模式

1. 应对面试中的设计模式相关问题
2. 告别写被人吐槽的烂代码
3. 提高复杂代码的设计和开发能力
4. 让读源码、学框架事半功倍
5. 为你的职场发展做铺垫



# 高质量代码的常见评价标准

1. 可维护性

   **影响代码可维护性的因素有很多，可以从侧面上给出一个比较主观但又比较准确的感受。**

   **如果bug容易修复，修改、添加功能能够轻松完成，那我们就可以主观的认为代码对我们来说易维护。相反，如果修改一个bug，修改、添加一个功能，需要花费很长的时间，那我们就可以主观的认为代码对我们来说不易维护。**

2. 可读性

   需要看代码是否符合编码规范、命名是否达意、注释是否详尽、函数是否长短合适、模块划分是否清晰、是否符合高内聚低耦合等等。

3. 可扩展性

   可扩展性表示，我们在不修改或少量修改原有代码的情况下，通过扩展的方式添加新的功能代码。说直白点就是，代码预留了一些功能扩展点，你可以把新功能代码，直接插到扩展点上，而不需要因为要添加一个功能而大动干戈，改动大量的原始代码。

4. 灵活性

   - 当我们添加一个新的功能代码的时候，原有的代码已经预留好了扩展点，我们不需要修改原有的代码，只要在扩展点上添加新的代码即可。这个时候，我们除了可以说代码易扩展，还可以说代码写得好灵活。
   - 当我们要实现一个功能的时候，发现原有代码中，已经抽象出了很多底层可以复用的模块、类等代码，我们可以拿来直接使用。这个时候，我们除了可以说代码易复用之外，还可以说代码写得好灵活。
   - 当我们使用某组接口的时候，如果这组接口可以应对各种使用场景，满足各种不同的需求，我们除了可以说接口易用之外，还可以说这个接口设计得好灵活或者代码写得好灵活。

5. 简洁性

   KISS原则：Keep It Sample,Stupid。尽量保持代码简单。

   代码简单，逻辑清晰，也就意味着易读，易维护。

6. 可复用性

   面向对象，继承、多态存在的目的之一，就是为了提高代码的可复用性；

   设计原则，单一职责原则也跟代码的可复用性相关；

   重构技巧，解耦、高内聚、模块化等都能提高代码的可复用性。

7. 可测试性

   代码的可测试性差，比较难写单元测试，那基本上就能说明代码设计的有问题。



# 面向对象、设计原则、设计模式、编程规范、重构之前的关系

面向对象

主流的编程范式或者是编程风格有三种，分别是面向过程、面向对象和函数式编程，其中最主流的是面向对象。

面向对象编程因为其具有丰富的特性（封装、抽象、继承、多态），可以实现很多复杂的设计思路，是很多设计原则、设计模式编码实现的基础。

七个大的知识点：

面向对象的四大特性：封装、抽象、继承、多态

面向对象编程与面向过程编程的区别和联系

面向对象分析、面向对象设计、面向对象编程

接口和抽象类的区别以及各自的应用场景

基于接口而非实现编程的设计思想

多用组合少用继承的设计思想

面向过程的贫血模式和面向对象的充血模式



设计原则

常用的设计模式

SOLID原则

S - SRP 单一职责原则

O - OCP 开闭原则

L - LSP 里氏tihuanyuanze

I - ISP接口隔离原则

D - DIP 依赖倒置原则



DRY原则、KISS原则、YAGNI原则、LOD法则



设计模式

1、创建型

2、结构型

3、行为型



编程规范

编程规范主要解决的是代码的可读性问题，更加具体，更加偏重代码细节。比如，如何给变量、类、函数命名，如何写代码注释，函数不宜过长、参数不嫩过多等等。



代码重构

重构的工具就是我们前面罗列的那些面向对象设计思想、设计原则、设计模式、编码规范。

重构的目的、对象、时机、方法；

保证重构不出错的技术手段：单元测试和代码的可测试性；

两种不同规模的重构：大重构（大规模高层次）和小重构（小规模低层次）



联系

面向对象编程因为其具有丰富的特性（封装、抽象、继承、多态），可以实现很多复杂的设计思路，是很多设计原则、设计模式等编码实现的基础。

设计原则是指导我们代码设计的一些经验总结，对于某些场景下，是否应该应用某种设计模式，具有指导意义。比如：“开闭原则”是很多设计模式（策略、模板等）的指导原则。

设计模式是针对软件开发中经常遇到的一些设计问题，总结出来的一套解决方法或者设计思路。应用设计模式的主要目的是提高代码的可扩展性。从抽象程度上来讲，设计原则比设计模式更抽象。设计模式更加具体、更加可执行。

编程规范主要解决的是代码的可读性问题。编程规范相对于设计原则、设计模式，更加具体、更加偏重代码细节、更加能落地。持续的小重构依赖的理论基础主要就是编程规范。

重构作为保持代码质量不下降的有效手段，利用的就是面向对象、设计原则、设计模式、编码规范这些理论。

